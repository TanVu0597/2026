<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ğŸ† From VeTus ğŸ†</title>

<style>
*{box-sizing:border-box}
html,body{
    margin:0;
    padding:0;
    width:100%;
    height:100%;
    overflow:hidden;
    font-family:'Segoe UI',system-ui,sans-serif;
}

/* ğŸŒˆ Ná»€N Äá»˜NG */
body{
    background:linear-gradient(-45deg,#020024,#3f0071,#000428,#000);
    background-size:400% 400%;
    animation:bgMove 20s ease infinite;
}

@keyframes bgMove{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

canvas{
    position:fixed;
    inset:0;
}

/* â³ COUNTDOWN */
#countdown{
    position:fixed;
    top:40%;
    width:100%;
    text-align:center;
    font-weight:900;
    color:#fff;
    text-shadow:
      0 0 20px #00eaff,
      0 0 60px #0077ff;
    animation:pulse 1.4s infinite;
}

/* ğŸ‰ Lá»œI CHÃšC */
#wish{
    position:fixed;
    top:42%;
    width:100%;
    text-align:center;
    font-weight:900;
    color:#fff;
    display:none;
    text-shadow:
      0 0 15px #fff,
      0 0 40px gold,
      0 0 80px red;
    animation:zoom 2.6s infinite;
}

@keyframes pulse{
    0%{transform:scale(1);opacity:.8}
    50%{transform:scale(1.08);opacity:1}
    100%{transform:scale(1);opacity:.8}
}
@keyframes zoom{
    0%{transform:scale(1)}
    50%{transform:scale(1.1)}
    100%{transform:scale(1)}
}

.flash{
    position:fixed;
    inset:0;
    background:white;
    animation:flash .7s forwards;
}
@keyframes flash{
    0%{opacity:1}
    100%{opacity:0}
}

/* ğŸ“± MOBILE */
@media (max-width:768px){
    #countdown{font-size:42px}
    #wish{font-size:40px}
}

/* ğŸ“º TV / DESKTOP */
@media (min-width:769px){
    #countdown{font-size:72px}
    #wish{font-size:64px}
}
</style>
</head>

<body>

<canvas id="canvas"></canvas>
<div id="countdown"></div>
<div id="wish"></div>

<script>
/* ================= PREVIEW MODE ================= */
const PREVIEW_MODE = true;      // ğŸ” false = cháº¡y giao thá»«a tháº­t
const PREVIEW_SECONDS = 2;     // â³ giao thá»«a sau 15 giÃ¢y
/* =============================================== */

/* ===== CANVAS FULL HD ===== */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
function resize(){
    const dpr = window.devicePixelRatio || 1;
    canvas.width = innerWidth * dpr;
    canvas.height = innerHeight * dpr;
    canvas.style.width = innerWidth + "px";
    canvas.style.height = innerHeight + "px";
    ctx.setTransform(dpr,0,0,dpr,0,0);
}
resize();
addEventListener("resize",resize);

/* ===== Lá»œI CHÃšC ===== */
const wishes = [
  "BÆ°á»›c sang nÄƒm má»›i rá»“i",
  "ÄÃ¢y lÃ  Ä‘iá»u Ä‘áº§u tiÃªn anh muá»‘n nÃ³i em",
  "Cáº£m Æ¡n vÃ¬ Ä‘Ã£ tá»«ng á»Ÿ bÃªn, dÃ¹ Ä‘oáº¡n Ä‘Æ°á»ng khÃ´ng trá»n váº¹n",
  "Cáº£m Æ¡n nhá»¯ng ngÃ y cÅ©, vÃ¬ Ä‘Ã£ tá»«ng ráº¥t tháº­t",
  "MÃ¬nh Ä‘Ã£ tá»«ng háº¡nh phÃºc",
  "KhÃ´ng cÃ²n chung Ä‘Æ°á»ng, nhÆ°ng anh váº«n trÃ¢n trá»ng",
  "Cáº£m Æ¡n vÃ¬ má»™t quÃ£ng thá»i gian Ä‘áº¹p",
  "Má»i thá»© Ä‘Ã£ qua, nhÆ°ng khÃ´ng há» vÃ´ nghÄ©a",
  "ChÃºng ta khÃ´ng cÃ²n bÃªn nhau, nhÆ°ng tá»«ng ráº¥t chÃ¢n thÃ nh",
  "Anh mong em luÃ´n Ä‘Æ°á»£c yÃªu thÆ°Æ¡ng, Ä‘á»§ Ä‘áº§y vÃ  bÃ¬nh yÃªn",
  "ChÃºc em luÃ´n má»‰m cÆ°á»i, ngay cáº£ khi khÃ´ng cÃ²n anh ná»¯a",
  "â¤ï¸HÃ£y nhá»› ráº±ng! Anh Ä‘Ã£ tá»«ng ráº¥t yÃªu em!â¤ï¸"
];

/* ===== COUNTDOWN ===== */
const countdownEl = document.getElementById("countdown");
const wishEl = document.getElementById("wish");
let wishIndex = 0;
let isNewYear = false;

function getNextMidnight(){
    const now = new Date();
    const t = new Date(now);
    t.setHours(0,0,0,0);
    t.setDate(t.getDate() + 1);
    return t;
}

let targetTime = PREVIEW_MODE
    ? new Date(Date.now() + PREVIEW_SECONDS * 1000)
    : getNextMidnight();

function tick(){
    const now = new Date();
    const diff = targetTime - now;

    if(diff <= 0 && !isNewYear){
        isNewYear = true;
        newYear();
        return;
    }

    const h = Math.floor(diff/3600000);
    const m = Math.floor(diff%3600000/60000);
    const s = Math.floor(diff%60000/1000);

    countdownEl.textContent =
      `${String(h).padStart(2,"0")} : ${String(m).padStart(2,"0")} : ${String(s).padStart(2,"0")}`;
}
setInterval(tick,1000);

/* ===== PHÃO HOA ===== */
let fireworks=[];
class Particle{
    constructor(x,y,c){
        this.x=x;this.y=y;this.c=c;
        this.vx=(Math.random()-.5)*10;
        this.vy=(Math.random()-.5)*10;
        this.a=1;this.s=Math.random()*2+1;
    }
    u(){this.x+=this.vx;this.y+=this.vy;this.vy+=.03;this.a-=.012}
    d(){
        ctx.globalAlpha=this.a;
        ctx.fillStyle=this.c;
        ctx.beginPath();
        ctx.arc(this.x,this.y,this.s,0,Math.PI*2);
        ctx.fill();
        ctx.globalAlpha=1;
    }
}
class Firework{
    constructor(){
        this.x=Math.random()*innerWidth;
        this.y=Math.random()*innerHeight*.6;
        this.c=`hsl(${Math.random()*360},100%,65%)`;
        this.p=[];
        const count = innerWidth < 800 ? 90 : 160;
        for(let i=0;i<count;i++) this.p.push(new Particle(this.x,this.y,this.c));
    }
    u(){this.p.forEach(p=>p.u());this.p=this.p.filter(p=>p.a>0)}
    d(){this.p.forEach(p=>p.d())}
}

function animate(){
    ctx.fillStyle="rgba(0,0,0,0.25)";
    ctx.fillRect(0,0,innerWidth,innerHeight);
    fireworks.forEach(f=>{f.u();f.d()});
    fireworks=fireworks.filter(f=>f.p.length);
    requestAnimationFrame(animate);
}
animate();

/* ===== SANG NÄ‚M Má»šI ===== */
function newYear(){
    countdownEl.style.display="none";
    document.body.appendChild(
        Object.assign(document.createElement("div"),{className:"flash"})
    );

    setInterval(()=>fireworks.push(new Firework()), innerWidth<800?600:350);

    wishEl.style.display="block";
    setInterval(()=>{
        wishEl.textContent=wishes[wishIndex];
        wishIndex=(wishIndex+1)%wishes.length;
    },2600);
}
</script>

</body>
</html>
